<?xml version="1.0" encoding="utf-8" ?>
<Page
    x:Class="UI_Demo.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="using:UI_Demo"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Background="Transparent"
    mc:Ignorable="d">

    <!--#region [Page-wide keyboard event]-->
    <!--<Page.KeyboardAccelerators>
        <KeyboardAccelerator Key="Number1" Invoked="KeyboardAcceleratorOnInvoked" Modifiers="Control" />
    </Page.KeyboardAccelerators>-->
    <!--#endregion-->

    <Page.Resources>
        <!--#region [Settings Flyout]-->
        <Flyout
            x:Key="SettingsFlyout"
            x:Name="SettingsFlyout"
            OverlayInputPassThroughElement="{x:Bind SettingsBar}"
            Placement="LeftEdgeAlignedBottom">
            <Flyout.FlyoutPresenterStyle>
                <Style TargetType="FlyoutPresenter">
                    <Setter Property="CornerRadius" Value="5" />
                    <Setter Property="Background" Value="#99202020" />
                    <Setter Property="ScrollViewer.HorizontalScrollMode" Value="Disabled" />
                    <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Disabled" />
                    <Setter Property="IsTabStop" Value="True" />
                    <Setter Property="TabNavigation" Value="Cycle" />
                </Style>
            </Flyout.FlyoutPresenterStyle>
            <StackPanel
                Padding="20,14,20,14"
                Background="Transparent"
                BorderBrush="Transparent"
                BorderThickness="2"
                CornerRadius="4"
                Orientation="Vertical"
                Spacing="4">
                <TextBlock
                    Margin="0,0,0,6"
                    HorizontalAlignment="Left"
                    FontSize="16"
                    FontWeight="Medium"
                    Foreground="#FF76B9ED"
                    Text="Execution Delay Time" />
                <!--#region[DividerBar]-->
                <Grid
                    Margin="0,0,0,6"
                    ColumnSpacing="0"
                    RowSpacing="0">
                    <Rectangle
                        Height="2"
                        Margin="0,2,0,0"
                        HorizontalAlignment="Stretch"
                        RadiusX="4"
                        RadiusY="4">
                        <Rectangle.Fill>
                            <LinearGradientBrush StartPoint="1,0" EndPoint="1,1">
                                <LinearGradientBrush.GradientStops>
                                    <GradientStop Offset="0" Color="#FF76B9ED" />
                                    <GradientStop Offset="0.2" Color="#6F76B9ED" />
                                    <GradientStop Offset="1" Color="#2F76B9ED" />
                                </LinearGradientBrush.GradientStops>
                            </LinearGradientBrush>
                        </Rectangle.Fill>
                    </Rectangle>
                    <Rectangle
                        Height="2"
                        Margin="0,-2,0,0"
                        HorizontalAlignment="Stretch"
                        Fill="Gray"
                        RadiusX="4"
                        RadiusY="4" />
                </Grid>
                <!--#endregion-->
                <StackPanel Orientation="Vertical" Spacing="2">
                    <RadioButton
                        Command="{x:Bind SwitchDelayCommand}"
                        Content="Long"
                        GroupName="AppDelay"
                        IsChecked="{x:Bind Delay, Mode=OneWay, Converter={StaticResource EnumToBoolean}, ConverterParameter=Long}"
                        IsEnabled="{Binding SwitchDelayCommand.CanExecute, Mode=OneWay}">
                        <RadioButton.CommandParameter>
                            <x:String>Long</x:String>
                        </RadioButton.CommandParameter>
                    </RadioButton>
                    <RadioButton
                        Command="{x:Bind SwitchDelayCommand}"
                        Content="Medium"
                        GroupName="AppDelay"
                        IsChecked="{x:Bind Delay, Mode=OneWay, Converter={StaticResource EnumToBoolean}, ConverterParameter=Medium}"
                        IsEnabled="{Binding SwitchDelayCommand.CanExecute, Mode=OneWay}">
                        <RadioButton.CommandParameter>
                            <x:String>Medium</x:String>
                        </RadioButton.CommandParameter>
                    </RadioButton>
                    <RadioButton
                        Command="{x:Bind SwitchDelayCommand}"
                        Content="Short"
                        GroupName="AppDelay"
                        IsChecked="{x:Bind Delay, Mode=OneWay, Converter={StaticResource EnumToBoolean}, ConverterParameter=Short}"
                        IsEnabled="{Binding SwitchDelayCommand.CanExecute, Mode=OneWay}">
                        <RadioButton.CommandParameter>
                            <x:String>Short</x:String>
                        </RadioButton.CommandParameter>
                    </RadioButton>
                </StackPanel>
            </StackPanel>
        </Flyout>
        <!--#endregion-->
    </Page.Resources>

    <Grid x:Name="root">

        <SplitView
            x:Name="MessageSplitView"
            Margin="0,10,-10,0"
            CompactPaneLength="96"
            CornerRadius="6"
            DisplayMode="Overlay"
            IsPaneOpen="False"
            OpenPaneLength="400"
            PanePlacement="Right">
            <!--#region [PubSub Messages]-->
            <SplitView.Pane>
                <Grid>
                    <local:CompositionShadow
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        BlurRadius="4"
                        OffsetX="14"
                        OffsetY="15"
                        ShadowOpacity="1"
                        Color="#000000">
                        <Image
                            Width="150"
                            Margin="10"
                            Opacity="0.2"
                            Source="ms-appx:///Assets/MessageIcon11.png"
                            Stretch="Uniform" />
                    </local:CompositionShadow>
                    <ScrollViewer VerticalScrollMode="Auto">
                        <ListView
                            x:Name="lvChannelMessages"
                            Margin="0,0,10,0"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Stretch"
                            Background="Transparent"
                            Opacity="1">
                            <!--
                            <ListView.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapGrid HorizontalChildrenAlignment="Left" Orientation="Horizontal" />
                                </ItemsPanelTemplate>
                            </ListView.ItemsPanel>
                            -->
                            <ListView.Transitions>
                                <TransitionCollection>
                                    <EdgeUIThemeTransition />
                                </TransitionCollection>
                            </ListView.Transitions>
                            <ListView.ItemTemplate>
                                <DataTemplate x:DataType="local:ApplicationMessage">
                                    <Grid Margin="0,3,0,3">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <Grid Grid.Row="0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <local:CompositionShadow
                                                Grid.Column="0"
                                                Margin="2,2,4,2"
                                                HorizontalAlignment="Left"
                                                VerticalAlignment="Center"
                                                BlurRadius="1"
                                                OffsetX="2"
                                                OffsetY="2"
                                                ShadowOpacity="0.9"
                                                Color="#000000">
                                                <TextBlock
                                                    FontSize="{StaticResource FontSizeNormal}"
                                                    Foreground="{StaticResource PrimaryBrush}"
                                                    Text="{x:Bind Module, Mode=OneWay}"
                                                    TextWrapping="NoWrap" />
                                            </local:CompositionShadow>
                                            <TextBlock
                                                Grid.Column="1"
                                                Margin="4,2,2,2"
                                                HorizontalAlignment="Right"
                                                VerticalAlignment="Center"
                                                FontSize="{StaticResource FontSizeNormal}"
                                                Foreground="{StaticResource HeaderBrush}"
                                                Text="{x:Bind MessageTime, Mode=OneWay, Converter={StaticResource StringToFormat}, ConverterParameter='{}{0:ddd, dd MMM yyyy – hh:mm:ss tt}'}"
                                                TextWrapping="NoWrap" />
                                        </Grid>
                                        <TextBlock
                                            Grid.Row="1"
                                            Margin="2"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            FontSize="{StaticResource FontSizeNormal}"
                                            Foreground="{StaticResource SecondaryBrush}"
                                            Text="{x:Bind MessageText, Mode=OneWay}"
                                            TextWrapping="Wrap" />
                                    </Grid>
                                </DataTemplate>
                            </ListView.ItemTemplate>
                        </ListView>
                    </ScrollViewer>
                </Grid>
            </SplitView.Pane>
            <!--#endregion-->

            <Grid
                x:Name="host"
                Background="#00111111"
                PointerPressed="HostGridOnPointerPressed">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <Grid.Resources>
                    <!--#region [Right-Click Context Flyout Menu]-->
                    <MenuFlyout
                        x:Name="TitlebarMenuFlyout"
                        x:FieldModifier="public"
                        Placement="BottomEdgeAlignedLeft">
                        <MenuFlyoutItem
                            Click="MenuFlyoutItemOnClick"
                            IsEnabled="{x:Bind IsBusy.Equals(x:False), Mode=OneWay}"
                            Tag="{x:Bind TitlebarMenuFlyout}"
                            Text="Hide this flyout">
                            <MenuFlyoutItem.Icon>
                                <FontIcon Glyph="{StaticResource PointerHand}" />
                            </MenuFlyoutItem.Icon>
                        </MenuFlyoutItem>
                        <MenuFlyoutItem
                            Click="MenuFlyoutItemOnClick"
                            IsEnabled="{x:Bind IsBusy.Equals(x:False), Mode=OneWay}"
                            Tag="ActionToken"
                            Text="Signal cancel token">
                            <MenuFlyoutItem.Icon>
                                <FontIcon Glyph="{StaticResource NoiseCancelation}" />
                            </MenuFlyoutItem.Icon>
                        </MenuFlyoutItem>
                        <MenuFlyoutItem
                            Click="MenuFlyoutItemOnClick"
                            IsEnabled="{x:Bind local:App.Profile.FirstRun.Equals(x:True), Mode=OneWay}"
                            Tag="ActionFirstRun"
                            Text="Reset FirstRun">
                            <MenuFlyoutItem.Icon>
                                <FontIcon Glyph="{StaticResource ActionCenter}" />
                            </MenuFlyoutItem.Icon>
                        </MenuFlyoutItem>
                        <MenuFlyoutSeparator Width="200" />
                        <MenuFlyoutItem
                            Click="MenuFlyoutItemOnClick"
                            IsEnabled="{x:Bind IsBusy.Equals(x:False), Mode=OneWay}"
                            Tag="ActionClose"
                            Text="Close Application">
                            <MenuFlyoutItem.Icon>
                                <FontIcon Glyph="{StaticResource PowerButton}" />
                            </MenuFlyoutItem.Icon>
                            <MenuFlyoutItem.KeyboardAccelerators>
                                <KeyboardAccelerator Key="F4" Modifiers="Menu" />
                            </MenuFlyoutItem.KeyboardAccelerators>
                        </MenuFlyoutItem>
                    </MenuFlyout>
                    <!--#endregion-->
                </Grid.Resources>

                <!--#region [FadeImage Control]-->
                <local:FadeImage
                    x:Name="FadeImage"
                    Grid.RowSpan="2"
                    Grid.ColumnSpan="2"
                    Width="300"
                    Height="300"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    FadeDuration="0:0:1.25"
                    FadeStyle="ZoomAndRotate"
                    IsVisible="True"
                    Source="ms-appx:///Assets/FadeImage.png"
                    TapEvent="{x:Bind FadeImageTapEvent, Mode=OneWay}" />
                <!--#endregion-->

                <!--<local:SeparatorLine
                Grid.Row="0"
                Grid.ColumnSpan="2"
                VerticalAlignment="Top"
                Line1Brush="{StaticResource GradientLine1Brush}"
                Line2Brush="{StaticResource GradientLine2Brush}"
                SeparatorThickness="2" />-->

                <!--<Rectangle
                Grid.Row="0"
                Grid.ColumnSpan="2"
                Height="3"
                Margin="0,10,0,5"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Top"
                Fill="{StaticResource GradientHorizontalBrush}"
                RadiusX="3"
                RadiusY="3" />-->

                <!--<local:GridSplitter
                x:Name="GridSplitterHorizontal"
                Grid.RowSpan="3"
                Grid.Column="1"
                Width="5"
                Margin="0,10,0,5"
                HorizontalAlignment="Left"
                Background="{StaticResource GradientHorizontalBrush}" />-->

                <!--#region [Vertical Expander Menu]-->

                <!--  [Left Side Vertical Menu]  -->
                <local:CustomExpander
                    Grid.Row="1"
                    Grid.RowSpan="2"
                    Grid.Column="0"
                    Grid.ColumnSpan="2"
                    Width="310"
                    Height="110"
                    Margin="0"
                    Padding="0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    AutoCollapse="True"
                    Background="{StaticResource GradientLeftMenuBrush}"
                    ExpandDirection="Up">
                    <local:CustomExpander.Header>
                        <local:CompositionShadow
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            BlurRadius="2"
                            OffsetX="1.5"
                            OffsetY="1.5"
                            ShadowOpacity="1"
                            Color="#559AD0">
                            <TextBlock
                                FontSize="{StaticResource FontSizeLarge}"
                                Foreground="{StaticResource PrimaryBrush}"
                                Text="Vertical Menu" />
                        </local:CompositionShadow>
                    </local:CustomExpander.Header>
                    <local:CustomExpander.RenderTransform>
                        <CompositeTransform
                            Rotation="90"
                            ScaleX="1"
                            ScaleY="1"
                            TranslateX="-95"
                            TranslateY="105" />
                    </local:CustomExpander.RenderTransform>
                    <ScrollViewer
                        CanBeScrollAnchor="False"
                        FlowDirection="LeftToRight"
                        HorizontalScrollBarVisibility="Visible"
                        RenderTransformOrigin="0.5,0.5"
                        VerticalScrollBarVisibility="Disabled">
                        <StackPanel
                            Padding="10"
                            Orientation="Horizontal"
                            RenderTransformOrigin="0.5,0.5"
                            Spacing="10">
                            <!--  These button controls are designed to only have a font icon and no text.  -->
                            <Button
                                Click="ExpanderMenuButtonClick"
                                Style="{StaticResource RotatedButton}"
                                Tag="emb1"
                                ToolTipService.ToolTip="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Tag, Mode=OneWay}">
                                <FontIcon FontSize="16" Glyph="{StaticResource Wifi}" />
                            </Button>
                            <Button
                                Click="ExpanderMenuButtonClick"
                                Style="{StaticResource RotatedButton}"
                                Tag="emb2"
                                ToolTipService.ToolTip="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Tag, Mode=OneWay}">
                                <FontIcon FontSize="16" Glyph="{StaticResource Globe}" />
                            </Button>
                            <Button
                                Click="ExpanderMenuButtonClick"
                                Style="{StaticResource RotatedButton}"
                                Tag="emb3"
                                ToolTipService.ToolTip="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Tag, Mode=OneWay}">
                                <FontIcon FontSize="16" Glyph="{StaticResource ActionCenter}" />
                            </Button>
                            <Button
                                Click="ExpanderMenuButtonClick"
                                Style="{StaticResource RotatedButton}"
                                Tag="emb4"
                                ToolTipService.ToolTip="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Tag, Mode=OneWay}">
                                <FontIcon FontSize="16" Glyph="{StaticResource Audio}" />
                            </Button>
                            <Button
                                Click="ExpanderMenuButtonClick"
                                Style="{StaticResource RotatedButton}"
                                Tag="emb5"
                                ToolTipService.ToolTip="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Tag, Mode=OneWay}">
                                <FontIcon FontSize="16" Glyph="{StaticResource Zoom}" />
                            </Button>
                            <Button
                                Click="ExpanderMenuButtonClick"
                                Style="{StaticResource RotatedButton}"
                                Tag="emb6"
                                ToolTipService.ToolTip="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Tag, Mode=OneWay}">
                                <FontIcon FontSize="16" Glyph="{StaticResource AreaChart}" />
                            </Button>
                            <Button
                                Click="ExpanderMenuButtonClick"
                                Style="{StaticResource RotatedButton}"
                                Tag="emb7"
                                ToolTipService.ToolTip="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Tag, Mode=OneWay}">
                                <FontIcon FontSize="16" Glyph="{StaticResource BandBattery3}" />
                            </Button>
                        </StackPanel>
                    </ScrollViewer>
                </local:CustomExpander>

                <!--  [Right Side Vertical Menu]  -->
                <!--<local:CustomExpander
                    Grid.Row="1"
                    Grid.RowSpan="2"
                    Grid.Column="1"
                    Grid.ColumnSpan="2"
                    Width="310"
                    Height="110"
                    Margin="0"
                    Padding="0"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Top"
                    Background="{StaticResource GradientRightMenuBrush}"
                    ExpandDirection="Down">
                    <local:CustomExpander.Header>
                        <local:CompositionShadow
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            BlurRadius="2"
                            OffsetX="1.5"
                            OffsetY="1.5"
                            ShadowOpacity="1"
                            Color="#559AD0">
                            <TextBlock
                                FontSize="{StaticResource FontSizeLarge}"
                                Foreground="{StaticResource PrimaryBrush}"
                                Text="Vertical Menu" />
                        </local:CompositionShadow>
                    </local:CustomExpander.Header>
                    <local:CustomExpander.RenderTransform>
                        <CompositeTransform
                            Rotation="90"
                            ScaleX="1"
                            ScaleY="1"
                            TranslateX="-95"
                            TranslateY="105" />
                    </local:CustomExpander.RenderTransform>
                    <ScrollViewer
                        CanBeScrollAnchor="False"
                        FlowDirection="LeftToRight"
                        HorizontalScrollBarVisibility="Visible"
                        RenderTransformOrigin="0.5,0.5"
                        VerticalScrollBarVisibility="Disabled">
                        <StackPanel
                            Padding="10"
                            Orientation="Horizontal"
                            RenderTransformOrigin="0.5,0.5"
                            Spacing="10">
                            <Button
                                Click="ExpanderMenuButtonClick"
                                Style="{StaticResource RotatedButton}"
                                Tag="emb1"
                                ToolTipService.ToolTip="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Tag, Mode=OneWay}">
                                <FontIcon FontSize="16" Glyph="{StaticResource Wifi}" />
                            </Button>
                            <Button
                                Click="ExpanderMenuButtonClick"
                                Style="{StaticResource RotatedButton}"
                                Tag="emb2"
                                ToolTipService.ToolTip="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Tag, Mode=OneWay}">
                                <FontIcon FontSize="16" Glyph="{StaticResource Globe}" />
                            </Button>
                            <Button
                                Click="ExpanderMenuButtonClick"
                                Style="{StaticResource RotatedButton}"
                                Tag="emb3"
                                ToolTipService.ToolTip="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Tag, Mode=OneWay}">
                                <FontIcon FontSize="16" Glyph="{StaticResource ActionCenter}" />
                            </Button>
                            <Button
                                Click="ExpanderMenuButtonClick"
                                Style="{StaticResource RotatedButton}"
                                Tag="emb4"
                                ToolTipService.ToolTip="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Tag, Mode=OneWay}">
                                <FontIcon FontSize="16" Glyph="{StaticResource Audio}" />
                            </Button>
                            <Button
                                Click="ExpanderMenuButtonClick"
                                Style="{StaticResource RotatedButton}"
                                Tag="emb5"
                                ToolTipService.ToolTip="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Tag, Mode=OneWay}">
                                <FontIcon FontSize="16" Glyph="{StaticResource Zoom}" />
                            </Button>
                            <Button
                                Click="ExpanderMenuButtonClick"
                                Style="{StaticResource RotatedButton}"
                                Tag="emb6"
                                ToolTipService.ToolTip="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Tag, Mode=OneWay}">
                                <FontIcon FontSize="16" Glyph="{StaticResource AreaChart}" />
                            </Button>
                            <Button
                                Click="ExpanderMenuButtonClick"
                                Style="{StaticResource RotatedButton}"
                                Tag="emb7"
                                ToolTipService.ToolTip="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Tag, Mode=OneWay}">
                                <FontIcon FontSize="16" Glyph="{StaticResource BandBattery3}" />
                            </Button>
                        </StackPanel>
                    </ScrollViewer>
                </local:CustomExpander>-->

                <!--#endregion-->

                <!--#region [General Content]-->
                <StackPanel
                    Grid.Row="1"
                    Grid.ColumnSpan="2"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Orientation="Vertical"
                    Spacing="20">
                    <StackPanel
                        HorizontalAlignment="Center"
                        Orientation="Vertical"
                        Spacing="10">
                        <TextBlock
                            x:Name="tbMessages"
                            HorizontalAlignment="Center"
                            FontSize="32"
                            Text="WindowsAppSDK v1.6.25+" />
                        <TextBlock
                            x:Name="tbVersion"
                            HorizontalAlignment="Center"
                            FontSize="20"
                            Foreground="{StaticResource SecondaryBorderBrush}"
                            Text="{x:Bind local:App.DeviceModel}" />

                        <!--
                            If you want indeterminate behavior for the ProgressButton, don't set ProgressValue.
                        -->
                        <local:ProgressButton
                            x:Name="progressButton"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            ButtonBusy="{x:Bind IsBusy, Mode=OneWay}"
                            ButtonCornerRadius="5"
                            ButtonEvent="{x:Bind ProgressButtonClickEvent, Mode=OneWay}"
                            ButtonHeight="40"
                            ButtonText="Progress Button"
                            ButtonWidth="150"
                            EnableSpringAnimation="True"
                            ProgressValue="{x:Bind Amount, Mode=OneWay}" />

                    </StackPanel>
                    <Grid>
                        <local:AnimatedCirclesControl
                            x:Name="circles"
                            AnimationDuration="0.7"
                            AnimationFrequency="0.1"
                            CircleSize="14"
                            GradientColorOne="{StaticResource ACC2}"
                            GradientColorTwo="{StaticResource ACC1}"
                            IsRunning="False"
                            ScaleFactor="1.3"
                            UseRadialGradient="False" />
                        <Image
                            x:Name="imgSpin"
                            Width="30"
                            Height="30"
                            Margin="0"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Opacity="1.0"
                            Source="ms-appx:///Assets/Spinner2.png"
                            Visibility="Collapsed">
                            <Image.Resources>
                                <Storyboard
                                    x:Name="StoryboardSpin"
                                    AutoReverse="False"
                                    RepeatBehavior="Forever">
                                    <DoubleAnimation
                                        x:Name="dblAnimation"
                                        Storyboard.TargetName="spinnerTransform"
                                        Storyboard.TargetProperty="Angle"
                                        From="0"
                                        To="360"
                                        Duration="0:00:00.9" />
                                </Storyboard>
                            </Image.Resources>
                            <Image.RenderTransform>
                                <RotateTransform x:Name="spinnerTransform" CenterX="15" CenterY="15" />
                            </Image.RenderTransform>
                        </Image>
                        <Button
                            x:Name="btnRun"
                            Width="150"
                            MinHeight="40"
                            Padding="0,1,0,0"
                            HorizontalAlignment="Center"
                            VerticalContentAlignment="Center"
                            Click="ButtonOnClick"
                            Content="Enhanced Button"
                            IsEnabled="{x:Bind IsBusy, Mode=OneWay, Converter={StaticResource BooleanInverter}}"
                            Style="{StaticResource EnhancedButton}" />
                    </Grid>
                    <StackPanel
                        HorizontalAlignment="Center"
                        Orientation="Horizontal"
                        Spacing="24">
                        <ToggleSwitch
                            x:Name="tsBlur"
                            Margin="0,5,0,0"
                            HorizontalAlignment="Center"
                            Header=""
                            IsOn="False"
                            OffContent="Blur Composition Off"
                            OnContent="Blur Composition On"
                            Style="{StaticResource GlowSwitch}"
                            Toggled="OnSwitchToggled" />
                        <CheckBox
                            x:Name="cbTest"
                            Margin="0,-1,0,0"
                            HorizontalAlignment="Center"
                            Checked="CheckBoxChanged"
                            Content="Use SurfaceBrush"
                            IsChecked="True"
                            Style="{StaticResource GlowCheckBox}"
                            Unchecked="CheckBoxChanged" />
                    </StackPanel>

                    <StackPanel
                        HorizontalAlignment="Center"
                        Orientation="Horizontal"
                        Spacing="20">
                        <Slider
                            x:Name="sldrDays"
                            MinWidth="120"
                            Margin="10,6,10,2"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Maximum="365"
                            Minimum="1"
                            Style="{StaticResource GlowSlider}"
                            ValueChanged="SliderDaysChanged"
                            Value="180" />
                        <Grid>
                            <local:StorageRing
                                x:Name="storageRing"
                                Width="64"
                                Height="64"
                                FlowDirection="LeftToRight"
                                IsEnabled="True"
                                PercentCaution="60"
                                PercentCritical="85"
                                TrackRingThickness="4.0"
                                ValueRingThickness="8.0"
                                Value="{x:Bind Size, Mode=OneWay}" />
                            <local:CompositionShadow
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                BlurRadius="2"
                                OffsetX="1.5"
                                OffsetY="1.5"
                                ShadowOpacity="1"
                                Color="#559AD0">
                                <TextBlock FontSize="{StaticResource FontSizeLarge}" Text="{x:Bind Size, Mode=OneWay}" />
                            </local:CompositionShadow>
                        </Grid>

                        <Grid>
                            <local:StorageBar
                                x:Name="storageBar"
                                Width="200"
                                HorizontalAlignment="Stretch"
                                Background="#A0808080"
                                BarShape="Round"
                                BorderBrush="{ThemeResource DividerStrokeColorDefaultBrush}"
                                BorderThickness="2"
                                CornerRadius="3"
                                FlowDirection="LeftToRight"
                                IsEnabled="True"
                                PercentCaution="60"
                                PercentCritical="85"
                                TrackBarHeight="4.0"
                                ValueBarHeight="8.0"
                                Value="{x:Bind Size, Mode=OneWay}" />
                        </Grid>

                    </StackPanel>


                    <!--
                        https://learn.microsoft.com/en-us/windows/apps/design/controls/flipview#specify-the-look-of-the-items
                    -->
                    <FlipView
                        x:Name="Flipper"
                        MaxWidth="200"
                        MaxHeight="100"
                        Background="Transparent">
                        <ItemsPanelTemplate>
                            <VirtualizingStackPanel Orientation="Horizontal" />
                        </ItemsPanelTemplate>
                        <FlipView.ItemTemplate>
                            <DataTemplate x:DataType="x:String">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="32" />
                                        <RowDefinition Height="*" />
                                    </Grid.RowDefinitions>
                                    <local:CompositionShadow
                                        Grid.Row="0"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        BlurRadius="2"
                                        OffsetX="2"
                                        OffsetY="2"
                                        ShadowOpacity="0.7"
                                        Color="#76b9ed">
                                        <TextBlock
                                            FontSize="{StaticResource FontSizeLarge}"
                                            Foreground="{StaticResource PrimaryBrush}"
                                            Style="{StaticResource TitleTextBlockStyle}"
                                            Text="{x:Bind Mode=OneWay, Converter={StaticResource FullPathToFile}}" />
                                    </local:CompositionShadow>
                                    <Image
                                        Grid.Row="1"
                                        Source="{Binding}"
                                        Stretch="Uniform" />
                                </Grid>
                            </DataTemplate>
                        </FlipView.ItemTemplate>
                    </FlipView>
                    <!--  The SelectedPageIndex is bound to the FlipView to keep the PipsPager in sync.  -->
                    <PipsPager
                        x:Name="FlipViewPipsPager"
                        HorizontalAlignment="Center"
                        MaxVisiblePips="10"
                        NextButtonStyle="{StaticResource NextButtonStyle}"
                        NextButtonVisibility="Visible"
                        NumberOfPages="{x:Bind Assets.Count}"
                        PreviousButtonStyle="{StaticResource PreviousButtonStyle}"
                        PreviousButtonVisibility="Visible"
                        SelectedPageIndex="{x:Bind Path=Flipper.SelectedIndex, Mode=TwoWay}" />

                    <local:GroupBox
                        Margin="5"
                        HorizontalAlignment="Center"
                        HorizontalContentAlignment="Center"
                        BorderBrush="{ThemeResource GradientSplitterBrush}"
                        FontSize="{StaticResource FontSizeMedium}">
                        <local:GroupBox.Heading>
                            <StackPanel Orientation="Horizontal">
                                <!--  https://learn.microsoft.com/en-us/windows/windows-app-sdk/api/winrt/microsoft.ui.xaml.controls.symbol?view=windows-app-sdk-1.5#fields  -->
                                <SymbolIcon
                                    Margin="0,0,5,0"
                                    VerticalAlignment="Bottom"
                                    Foreground="{ThemeResource GradientSplitterBrush}"
                                    RenderTransformOrigin="0.5,0.5"
                                    Symbol="Globe">
                                    <SymbolIcon.RenderTransform>
                                        <CompositeTransform
                                            Rotation="45"
                                            ScaleX="1.125"
                                            ScaleY="1.125"
                                            TranslateX="4"
                                            TranslateY="2" />
                                    </SymbolIcon.RenderTransform>
                                </SymbolIcon>
                                <TextBlock Margin="6,2,0,0" Text="Special Buttons" />
                            </StackPanel>
                        </local:GroupBox.Heading>
                        <StackPanel
                            x:Name="SettingsBar"
                            Margin="10"
                            HorizontalAlignment="Center"
                            Orientation="Horizontal"
                            Spacing="20">
                            <Button
                                x:Name="SettingsButton"
                                Command="{x:Bind ProgressCommand}"
                                Content="{StaticResource Settings}"
                                Flyout="{StaticResource SettingsFlyout}"
                                FontFamily="Segoe MDL2 Assets"
                                FontSize="{StaticResource FontSizeLarge}"
                                IsEnabled="{Binding ProgressCommand.CanExecute, Mode=OneWay}">
                                <ToolTipService.ToolTip>
                                    <ToolTip
                                        Background="{StaticResource GradientToolTipBrush}"
                                        BackgroundSizing="OuterBorderEdge"
                                        Shadow="{ThemeResource CommandBarFlyoutOverflowShadow}"
                                        Translation="0,0,32">
                                        <StackPanel
                                            Background="Transparent"
                                            BorderThickness="0"
                                            CornerRadius="5"
                                            Orientation="Horizontal"
                                            Spacing="6">
                                            <Image
                                                Width="32"
                                                Height="32"
                                                Source="ms-appx:///Assets/Formula.png" />
                                            <TextBlock
                                                Margin="1"
                                                VerticalAlignment="Center"
                                                FontSize="{StaticResource FontSizeMedium}"
                                                Text="Adjusts the task delay time" />
                                        </StackPanel>
                                    </ToolTip>
                                </ToolTipService.ToolTip>
                            </Button>
                            <ToggleButton
                                x:Name="tbMessagePane"
                                Checked="ToggleOnChanged"
                                Style="{StaticResource ToolbarToggleButton}"
                                Unchecked="ToggleOnChanged">
                                <FontIcon FontSize="24" Glyph="{StaticResource Message}" />
                                <ToolTipService.ToolTip>
                                    <ToolTip
                                        Background="{StaticResource GradientToolTipBrush}"
                                        BackgroundSizing="OuterBorderEdge"
                                        Shadow="{ThemeResource CommandBarFlyoutOverflowShadow}"
                                        Translation="0,0,32">
                                        <StackPanel
                                            Background="Transparent"
                                            BorderThickness="0"
                                            CornerRadius="5"
                                            Orientation="Horizontal"
                                            Spacing="6">
                                            <Image
                                                Width="32"
                                                Height="32"
                                                Source="ms-appx:///Assets/Formula.png" />
                                            <TextBlock
                                                Margin="1"
                                                VerticalAlignment="Center"
                                                FontSize="{StaticResource FontSizeMedium}"
                                                Text="Opens the PubSub SplitView.Pane" />
                                        </StackPanel>
                                    </ToolTip>
                                </ToolTipService.ToolTip>

                            </ToggleButton>
                            <Button
                                x:Name="tbButton"
                                Click="ToolbarButtonOnClick"
                                Style="{StaticResource ToolbarButton}">
                                <ToolTipService.ToolTip>
                                    <local:ToolTipFade x:Name="CustomTooltip" FadeTime="500">
                                        <Border
                                            MinWidth="300"
                                            Padding="10"
                                            Background="{StaticResource GradientToolTipBrush}"
                                            BorderBrush="{StaticResource GradientDebugBrush}"
                                            BorderThickness="1"
                                            CornerRadius="6"
                                            Shadow="{ThemeResource CommandBarFlyoutOverflowShadow}"
                                            Translation="0,0,32">
                                            <StackPanel
                                                CornerRadius="6"
                                                Orientation="Vertical"
                                                Spacing="8">
                                                <TextBlock
                                                    FontWeight="Bold"
                                                    Foreground="White"
                                                    Text="ToolTipFade" />
                                                <TextBlock Foreground="White" Text="This is a custom fading tool tip." />
                                            </StackPanel>
                                        </Border>
                                    </local:ToolTipFade>
                                </ToolTipService.ToolTip>
                                <Button.Flyout>
                                    <!--
                                        If LightDismissOverlayMode is "On", the Page background will be darkened when it's opened.
                                    -->
                                    <Flyout
                                        x:Name="flyoutText"
                                        AreOpenCloseAnimationsEnabled="True"
                                        LightDismissOverlayMode="Off"
                                        Opened="flyoutTextOnOpened"
                                        ShowMode="Standard">
                                        <Flyout.FlyoutPresenterStyle>
                                            <Style TargetType="FlyoutPresenter">
                                                <Setter Property="BorderThickness" Value="0" />
                                                <Setter Property="Background" Value="Transparent" />
                                                <Setter Property="IsDefaultShadowEnabled" Value="True" />
                                                <Setter Property="ScrollViewer.HorizontalScrollMode" Value="Disabled" />
                                                <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Disabled" />
                                                <Setter Property="IsTabStop" Value="True" />
                                                <Setter Property="TabNavigation" Value="Cycle" />
                                            </Style>
                                        </Flyout.FlyoutPresenterStyle>
                                        <StackPanel
                                            Margin="0"
                                            Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
                                            BorderBrush="{StaticResource GradientFlyoutBrush}"
                                            BorderThickness="3"
                                            CornerRadius="5"
                                            Orientation="Vertical">
                                            <local:CompositionShadow
                                                Margin="15,15,15,5"
                                                HorizontalAlignment="Left"
                                                VerticalAlignment="Center"
                                                BlurRadius="2"
                                                OffsetX="2"
                                                OffsetY="2"
                                                ShadowOpacity="0.8"
                                                Color="#000000">
                                                <TextBlock Text="🔔 I'm an example of a Flyout, I'll close myself in a few seconds." TextWrapping="Wrap" />
                                            </local:CompositionShadow>
                                            <local:CompositionShadow
                                                Margin="15,5,15,15"
                                                HorizontalAlignment="Left"
                                                VerticalAlignment="Center"
                                                BlurRadius="2"
                                                OffsetX="2"
                                                OffsetY="2"
                                                ShadowOpacity="0.8"
                                                Color="#000000">
                                                <TextBlock Text="🔔 Or you can click somewhere else to dismiss me." TextWrapping="Wrap" />
                                            </local:CompositionShadow>
                                        </StackPanel>
                                    </Flyout>
                                </Button.Flyout>
                                <Button.Content>
                                    <Grid>
                                        <Image
                                            Height="35"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Source="ms-appx:///Assets/Clipboard.png" />
                                        <!--<TextBlock
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        Foreground="{StaticResource PrimaryBrush}"
                                        Text="Toolbar Button" />-->
                                    </Grid>
                                </Button.Content>
                            </Button>
                            <!--  CompositeTransform Example  -->
                            <!--<FontIcon
                                FontSize="32"
                                Glyph="{StaticResource Accounts}"
                                RenderTransformOrigin="0.5,0.5">
                                <FontIcon.RenderTransform>
                                    <CompositeTransform
                                        Rotation="45"
                                        ScaleX="0.75"
                                        ScaleY="0.75"
                                        TranslateX="2"
                                        TranslateY="-2" />
                                </FontIcon.RenderTransform>
                            </FontIcon>-->
                            <Button
                                Width="40"
                                Height="40"
                                Padding="0"
                                CornerRadius="20"
                                PointerEntered="ButtonCompositePointerEntered"
                                PointerExited="ButtonCompositePointerExited"
                                RenderTransformOrigin="0.5,0.5"
                                Style="{StaticResource EnhancedButton}"
                                Tapped="ButtonCompositeTapped">
                                <Button.RenderTransform>
                                    <CompositeTransform
                                        x:Name="ButtonTransform1"
                                        ScaleX="1"
                                        ScaleY="1" />
                                </Button.RenderTransform>
                                <Button.Content>
                                    <!--<SymbolIcon
                                        Margin="0"
                                        VerticalAlignment="Bottom"
                                        Foreground="{ThemeResource GradientLine2Brush}"
                                        RenderTransformOrigin="0.5,0.5"
                                        Symbol="HangUp" />-->
                                    <Image Width="30" Source="ms-appx:///Assets/SettingsIcon5.png" />
                                </Button.Content>
                            </Button>
                            <Button
                                Width="40"
                                Height="40"
                                Padding="0"
                                CornerRadius="20"
                                PointerEntered="ButtonCompositePointerEntered"
                                PointerExited="ButtonCompositePointerExited"
                                RenderTransformOrigin="0.5,0.5"
                                Style="{StaticResource BareButton}"
                                Tapped="ButtonCompositeTapped">
                                <Button.RenderTransform>
                                    <CompositeTransform
                                        x:Name="ButtonTransform2"
                                        ScaleX="1"
                                        ScaleY="1" />
                                </Button.RenderTransform>
                                <Button.Content>
                                    <Image Width="40" Source="ms-appx:///Assets/SettingsIcon6.png" />
                                </Button.Content>
                            </Button>
                            <Button
                                Width="40"
                                Height="40"
                                Padding="0"
                                CornerRadius="20"
                                PointerEntered="ButtonCompositePointerEntered"
                                PointerExited="ButtonCompositePointerExited"
                                RenderTransformOrigin="0.5,0.5"
                                Style="{StaticResource BareButton}"
                                Tapped="ButtonCompositeTapped">
                                <Button.RenderTransform>
                                    <CompositeTransform
                                        x:Name="ButtonTransform3"
                                        ScaleX="1"
                                        ScaleY="1" />
                                </Button.RenderTransform>
                                <Button.Content>
                                    <Image Width="40" Source="ms-appx:///Assets/SettingsIcon10.png" />
                                </Button.Content>
                            </Button>
                            <Button
                                Width="40"
                                Height="40"
                                Padding="0"
                                CornerRadius="20"
                                PointerEntered="ButtonCompositePointerEntered"
                                PointerExited="ButtonCompositePointerExited"
                                RenderTransformOrigin="0.5,0.5"
                                Style="{StaticResource BareButton}"
                                Tapped="ButtonCompositeTapped">
                                <Button.RenderTransform>
                                    <CompositeTransform
                                        x:Name="ButtonTransform4"
                                        ScaleX="1"
                                        ScaleY="1" />
                                </Button.RenderTransform>
                                <Button.Content>
                                    <Image Width="30" Source="ms-appx:///Assets/SettingsIcon11.png" />
                                </Button.Content>
                            </Button>
                            <Button
                                x:Name="WinUIButton"
                                Width="40"
                                Height="40"
                                Padding="0"
                                CornerRadius="20"
                                PointerEntered="ButtonCompositePointerEntered"
                                PointerExited="ButtonCompositePointerExited"
                                RenderTransformOrigin="0.5,0.5"
                                Style="{StaticResource BareButton}"
                                Tapped="ButtonCompositeTapped">
                                <Button.RenderTransform>
                                    <CompositeTransform
                                        x:Name="ButtonTransform5"
                                        ScaleX="1"
                                        ScaleY="1" />
                                </Button.RenderTransform>
                                <Button.Content>
                                    <Image Width="30" Source="ms-appx:///Assets/WinUI3.png" />
                                </Button.Content>
                            </Button>
                            <Button
                                Width="70"
                                Height="34"
                                Content="Test"
                                FontSize="{StaticResource FontSizeMedium}"
                                Foreground="Black"
                                IsEnabled="True"
                                Style="{StaticResource GradientButton}" />
                            <Grid HorizontalAlignment="Center" VerticalAlignment="Center">
                                <!--
                                    Wrap ButtonEx in a grid if you intend on using the scaling animation.
                                -->
                                <local:ButtonEx
                                    Width="70"
                                    Height="34"
                                    BorderThickness="2"
                                    ColorFrom="{StaticResource ColorFrom}"
                                    ColorTo="{StaticResource ColorTo}"
                                    Content="Test"
                                    CornerRadius="5"
                                    EnableScaleAnimation="True"
                                    FontSize="{StaticResource FontSizeMedium}"
                                    Foreground="White"
                                    ScaleTime="0.15">
                                    <local:ButtonEx.Flyout>
                                        <MenuFlyout Placement="Top">
                                            <ToggleMenuFlyoutItem
                                                Height="32"
                                                Padding="2,0"
                                                Click="{x:Bind OnMenuItemClicked}"
                                                Tag="1"
                                                Text="Item 1">
                                                <ToggleMenuFlyoutItem.Icon>
                                                    <PathIcon Data="{StaticResource PathIcons.Tag}" Foreground="{StaticResource GradientInfoBrush}" />
                                                </ToggleMenuFlyoutItem.Icon>
                                            </ToggleMenuFlyoutItem>
                                            <ToggleMenuFlyoutItem
                                                Height="32"
                                                Padding="2,0"
                                                Click="{x:Bind OnMenuItemClicked}"
                                                Tag="2"
                                                Text="Item 2">
                                                <ToggleMenuFlyoutItem.Icon>
                                                    <PathIcon Data="{StaticResource PathIcons.Tag}" Foreground="{StaticResource GradientImportantBrush}" />
                                                </ToggleMenuFlyoutItem.Icon>
                                            </ToggleMenuFlyoutItem>
                                            <ToggleMenuFlyoutItem
                                                Height="32"
                                                Padding="2,0"
                                                Click="{x:Bind OnMenuItemClicked}"
                                                Tag="3"
                                                Text="Item 3">
                                                <ToggleMenuFlyoutItem.Icon>
                                                    <PathIcon Data="{StaticResource PathIcons.Tag}" Foreground="{StaticResource GradientWarningBrush}" />
                                                </ToggleMenuFlyoutItem.Icon>
                                            </ToggleMenuFlyoutItem>
                                            <ToggleMenuFlyoutItem
                                                Height="32"
                                                Padding="2,0"
                                                Click="{x:Bind OnMenuItemClicked}"
                                                Tag="4"
                                                Text="Item 4">
                                                <ToggleMenuFlyoutItem.Icon>
                                                    <PathIcon Data="{StaticResource PathIcons.Tag}" Foreground="{StaticResource GradientErrorBrush}" />
                                                </ToggleMenuFlyoutItem.Icon>
                                            </ToggleMenuFlyoutItem>
                                        </MenuFlyout>
                                    </local:ButtonEx.Flyout>
                                </local:ButtonEx>
                            </Grid>
                        </StackPanel>
                    </local:GroupBox>
                    <StackPanel Orientation="Horizontal" Spacing="20">
                        <TextBox
                            MinWidth="200"
                            MinHeight="28"
                            Background="Transparent"
                            KeyUp="TextBoxOnKeyUp"
                            PlaceholderText="First name" />
                        <TextBox
                            MinWidth="200"
                            MinHeight="28"
                            Background="Transparent"
                            KeyUp="TextBoxOnKeyUp"
                            PlaceholderText="First name"
                            Style="{StaticResource MinimalTextBox}" />
                    </StackPanel>
                    <!--<StackPanel
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Orientation="Horizontal"
                    Spacing="20">
                    <StackPanel.Resources>
                        <Style TargetType="Image">
                            <Setter Property="Width" Value="50" />
                            <Setter Property="Opacity" Value="0.9" />
                            <Setter Property="Stretch" Value="Uniform" />
                        </Style>
                    </StackPanel.Resources>
                    <Image Source="ms-appx:///Assets/AltIcon1.png" />
                    <Image Source="ms-appx:///Assets/AltIcon2.png" />
                    <Image Source="ms-appx:///Assets/AltIcon3.png" />
                    <Image Source="ms-appx:///Assets/AltIcon4.png" />
                    <Image Source="ms-appx:///Assets/AltIcon5.png" />
                </StackPanel>-->
                </StackPanel>
                <!--#endregion-->

                <!--#region [InfoBar Content]-->
                <StackPanel
                    Grid.Row="2"
                    Grid.ColumnSpan="2"
                    Margin="0"
                    VerticalAlignment="Bottom">
                    <!--
                        Wrap this in a StackPanel/Grid to support AnimateUIElementOffset
                        This is my "new & improved" version of the original AutoCloseInfoBar.
                    -->
                    <local:SlideBar
                        x:Name="infoBar"
                        AutoCloseInterval="5000"
                        Background="{StaticResource GradientBarBrush}"
                        Foreground="{StaticResource PrimaryBrush}"
                        Severity="Informational"
                        SlideUp="True" />
                </StackPanel>
                <!--#endregion-->

            </Grid>

        </SplitView>

        <!--
        <Border x:Name="BackIcon"
          Grid.Row="2"
          Grid.Column="0"
          Width="40"
          Height="40"
          Margin="4,0,0,0"
          HorizontalAlignment="Left"
          VerticalAlignment="Center"
          local:VisualExtensions.NormalizedCenterPoint="0.5,0.5"
          Background="{ThemeResource AccentFillColorDefaultBrush}"
          BorderBrush="{ThemeResource AccentControlElevationBorderBrush}"
          BorderThickness="2"
          Canvas.ZIndex="64"
          CornerRadius="20">
          <FontIcon
              HorizontalAlignment="Center"
              VerticalAlignment="Center"
              Foreground="{ThemeResource TextOnAccentFillColorPrimaryBrush}"
              Glyph="{StaticResource Back}" />
        </Border>
        -->

        <!--#region [blur test via control instead of compositor]-->
        <Image
            x:Name="blurTest"
            Width="1000"
            Margin="5,5,0,0"
            IsHitTestVisible="False"
            IsTabStop="False"
            Stretch="Uniform"
            Visibility="Collapsed" />
        <!--#endregion-->

    </Grid>

</Page>
